<html><body>

<p>
<code><span style="color: rgb(0, 0, 0); font-weight: bold;">use</span> WSO2::<span style="color: rgb(0, 102, 0);">WSF</span>;<br>
<br>
<span style="color: rgb(128, 128, 128); font-style: italic;"># This will call the Flickr web service. &nbsp;You need to provide your Flickr API key to get this</span><br>
<span style="color: rgb(128, 128, 128); font-style: italic;"># sample working</span><br>
<br>
<span style="color: rgb(0, 0, 255);">$payload</span> = <span style="color: rgb(255, 0, 0);">'<br>

&lt;x:FlickrRequest xmlns:x="urn:flickr"&gt;<br>
&nbsp; &lt;method&gt;flickr.test.echo&lt;/method&gt;<br>
&nbsp; &lt;api_key&gt;your_api_key&lt;/api_key&gt;<br>
&nbsp; &lt;name&gt;vacation&lt;/name&gt;<br>

&lt;/x:FlickrRequest&gt;<br>
'</span>;<br>
<br>
<span style="color: rgb(177, 177, 0);">my</span> <span style="color: rgb(0, 0, 255);">$client</span> = <span style="color: rgb(0, 0, 0); font-weight: bold;">new</span> WSO2::<span style="color: rgb(0, 102, 0);">WSF</span>::<span style="color: rgb(0, 102, 0);">WSClient</span><span style="color: rgb(102, 204, 102);">(</span> <span style="color: rgb(102, 204, 102);">{</span> <span style="color: rgb(255, 0, 0);">'wsfc_home'</span> =<span style="color: rgb(102, 204, 102);">&gt;</span> <span style="color: rgb(255, 0, 0);">'/opt/wso2/wsf_c'</span>,<br>

&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: rgb(255, 0, 0);">'to'</span> &nbsp; &nbsp; &nbsp; &nbsp;=<span style="color: rgb(102, 204, 102);">&gt;</span> <span style="color: rgb(255, 0, 0);">'http://api.flickr.com/services/soap/'</span> <span style="color: rgb(102, 204, 102);">}</span> <span style="color: rgb(102, 204, 102);">)</span>;<br>

<br>
<span style="color: rgb(177, 177, 0);">my</span> <span style="color: rgb(0, 0, 255);">$response</span> = <span style="color: rgb(0, 0, 255);">$client</span>-<span style="color: rgb(102, 204, 102);">&gt;</span><span style="color: rgb(0, 102, 0);">request</span><span style="color: rgb(102, 204, 102);">(</span> <span style="color: rgb(102, 204, 102);">{</span> <span style="color: rgb(255, 0, 0);">'payload'</span> =<span style="color: rgb(102, 204, 102);">&gt;</span> <span style="color: rgb(0, 0, 255);">$payload</span> <span style="color: rgb(102, 204, 102);">}</span> <span style="color: rgb(102, 204, 102);">)</span>;<br>

<br>
<span style="color: rgb(0, 0, 102);">print</span> <span style="color: rgb(0, 0, 255);">$response</span>-<span style="color: rgb(102, 204, 102);">&gt;</span><span style="color: rgb(102, 204, 102);">{</span>str<span style="color: rgb(102, 204, 102);">}</span>;</code>
</p>

</body></html>
