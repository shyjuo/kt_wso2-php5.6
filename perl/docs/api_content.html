<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><title></title>

<meta name="CREATED" content="20061009;17484000">
<meta name="CHANGED" content="20061011;10243100">
<link href="style/api_style.css" rel="stylesheet" type="text/css" media="all"></head>
<body style="direction: ltr;" lang="en-US"><a name="">WSO2 WSF/Perl API</a>
<p>WSO2 Web Services Framework/Perl is a Perl extension that can
be used to consume Web services. This document covers the API of WSO2
WSF/Perl extension.</p>

<h2><a name="">Member Classes</a></h2>

<h2><a name="">WSClient</a></h2>

<h2><a name="">Constructor</a></h2>

<ul>
<li>
<p><b>WSClient( {options} )</b></p>
</li>
</ul>
<p>Constructs a new WSClient object.</p>
<p>Parameters:</p>
<table style="page-break-inside: avoid;" border="1" cellpadding="4" cellspacing="3" width="100%">
<col><col><thead> <tr valign="top">
<th>
<p>Parameter</p>
</th>
<th>
<p>Default Value</p>
</th>
<th>
<p>Description</p>
</th>
</tr>
</thead> <tbody>
<tr valign="top">
<td>
<p>options</p>
</td>
<td>
<p>None</p>
</td>
<td>
<p align="left">A hash of options. Both message
related properties, defined for WSMessage as well as WSClient specific
options defined below, can be included in the options hash here. Please
note that the "to" option must be specified at some level in order to
convey the service endpoint to be invoked.<var></var></p>
<p align="left">The following table shows the
possible client specific options and related details. Please refer to
the WSMessage constructor documentation for information on message
level properties that can be used as options.</p>
</td>
</tr>
<tr valign="top">
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<table style="page-break-inside: avoid;" border="1" cellpadding="4" cellspacing="3">
<!--<col><col><col><col><col><col><thead>
<tr valign="top">
<th style="width: 96px"><p>Parameter</p>
</th>
<th colspan="4"><p>Description</p>
</th>
</tr>
</thead>-->
<tbody>
<!--<tr valign="top">
<td style="width: 96px"><p>options</p>
</td>
<td colspan="4">
</td>
</tr>-->
<tr valign="top">
<th style="width: 96px;">
<p>Option</p>
</th>
<th>
<p>Data Type</p>
</th>
<th>
<p>Value Domain</p>
</th>
<th>
<p>Default Value</p>
</th>
<th>
<p>Description</p>
</th>
</tr>
<tr>
<td colspan="5" valign="top">
<p>Transport Binding/Protocol Related Options</p>
</td>
</tr>
<tr>
<td>"log_file"</td>
<td>scalar</td>
<td></td>
<td>/tmp/wsf_perl_client.log</td>
<td>The name of the log file that the client log messages
would get logged into.</td>
</tr>
<tr valign="top">
<td style="width: 96px;">
<p>"useSOAP"</p>
</td>
<td>
<p>scalar</p>
</td>
<td>
<p>"TRUE" | "FALSE" | "true" | "false" |<br>
"1.1" | "1.2"</p>
</td>
<td>
<p>TRUE</p>
</td>
<td>
<p>Specifies whether to use SOAP bindings, or not. If
"FALSE", a REST style invocation will take place with the given HTTP
method as specified by the "HTTPMethod" option.&nbsp;"1.1" would
make the message use SOAP 1.1.&nbsp;"1.2" would make the message
use SOAP 1.2. "TRUE" means use SOAP 1.2.</p>
</td>
</tr>
<tr valign="top">
<td style="width: 96px; height: 55px;">
<p>"HTTPMethod"</p>
</td>
<td style="height: 55px;">
<p>scalar</p>
</td>
<td style="height: 55px;">
<p>"GET" | "POST" | "post" | "get"</p>
</td>
<td style="height: 55px;">
<p>"POST"</p>
</td>
<td style="height: 55px;">
<p>Specifies which HTTP method to be used.</p>
</td>
</tr>
<tr>
<td colspan="5" valign="top">
<p>XOP/MTOM Related Options</p>
</td>
</tr>
<tr valign="top">
<td style="height: 51px; width: 96px;">
<p>"useMTOM"</p>
</td>
<td style="height: 51px;">
<p>scalar</p>
</td>
<td style="height: 51px;">
<p>"TRUE" | "FALSE" | "true" | "false"</p>
</td>
<td style="height: 51px;">
<p>"TRUE"</p>
</td>
<td style="height: 51px;">
<p>Indicates whether the attachments should be sent MTOM
optimized or not. If "TRUE", the attachments will be sent out of the SOAP
message, optimized, with MIME headers in place. If "FALSE", attachments
will be sent within the SOAP payload, as base64 binary.</p>
</td>
</tr>
<tr valign="top">
<td style="width: 96px;">
<p>"responseXOP"</p>
</td>
<td>
<p>scalar</p>
</td>
<td>
<p>"TRUE" | "FALSE" | 1 | 0</p>
</td>
<td>
<p>"FALSE"</p>
</td>
<td>
<p style="margin-bottom: 0in;">Controls whether XOP
elements in a response with MTOM are resolved into the logically
equivalent straight XML infoset or not. If "TRUE", the options
"attachments" and "cid_2_content_type" of the message returned as a
result of the calling request method would be set. If "FALSE", the binary
content will be present in the response payload in base64 format.</p>
</td>
</tr>
<tr>
<td colspan="5" valign="top">
<p>WS-Addressing Related Options</p>
</td>
</tr>
<tr valign="top">
<td style="width: 96px;">
<p>"useWSA"</p>
</td>
<td>
<p>scalar</p>
</td>
<td>
<p>"TRUE" | "FALSE" | &nbsp;"1.0" | "submission"</p>
</td>
<td>
<p>"1.0"</p>
</td>
<td>
<p>Indicates whether to use WS-Addressing. If
"TRUE",&nbsp;or "1.0", the WS-Addressing 1.0 version will be used.
If "submission" the WS-Addressing submission version will be used.
When&nbsp;"1.0" or "submission" is specified, the "action" must be
present. If "FALSE", no addressing headers will be sent.</p>
</td>
</tr>
<tr valign="top">
<td colspan="5">WS-Security Related Options</td>
</tr>
<tr valign="top">
<td colspan="1" style="height: 20px; width: 96px;">"policy"</td>
<td colspan="1" style="height: 20px;">WSPolicy
object</td>
<td colspan="1" style="height: 20px;">WSPolicy
object</td>
<td colspan="1" style="height: 20px;">None</td>
<td colspan="1" style="height: 20px;">WSPolicy
Object</td>
</tr>
<tr valign="top">
<td colspan="1" style="height: 21px; width: 96px;">"securityToken"</td>
<td colspan="1" style="height: 21px;">WSSecurityToken</td>
<td colspan="1" style="height: 21px;"></td>
<td colspan="1" style="height: 21px;">None</td>
<td colspan="1" style="height: 21px;">WSSecurityToken
object which contain the security related options</td>
</tr>
<tr valign="top">
<td colspan="5">Proxy and SSL settings related
properties</td>
</tr>
<tr valign="top">
<td colspan="1" style="height: 20px; width: 96px;">"proxy_host"</td>
<td colspan="1" style="height: 20px;">scalar</td>
<td colspan="1" style="height: 20px;">scalar</td>
<td colspan="1" style="height: 20px;">None</td>
<td colspan="1" style="height: 20px;">proxy
host to be used.</td>
</tr>
<tr valign="top">
<td colspan="1" style="height: 21px; width: 96px;">"proxy_port"</td>
<td colspan="1" style="height: 21px;">scalar</td>
<td colspan="1" style="height: 21px;">scalar</td>
<td colspan="1" style="height: 21px;">None</td>
<td colspan="1" style="height: 21px;">proxy
port to use.</td>
</tr>
<!--<tr valign="top">
<td colspan="5">WSDL Mode</td>
</tr>
<tr valign="top">
<td colspan="1" style="height: 20px; width: 96px;">"wsdl"</td>
<td colspan="1" style="height: 20px">file path or URL of a WSDL
file</td>
<td colspan="1" style="height: 20px">FILE| URL</td>
<td colspan="1" style="height: 20px">None</td>
<td colspan="1" style="height: 20px">WSDL file can be used to invoke a
Web service using dynamic invocation</td>
</tr>-->
</tbody>
</table>

<h2><a name="">Methods</a></h2>

<ul>
<li>
<p><b>WSMessage WSClient.request( { 'payload' =&gt;
'payload as an XML string' } | WSMessage message)</b></p>
</li>
</ul>
<p>Sends a request payload in XML format and receives a response
payload in the XML
format.</p>
<p>Parameters:</p>
<table style="page-break-inside: avoid;" border="1" cellpadding="4" cellspacing="3" width="100%">
<col><col><thead> <tr valign="top">
<th>
<p>Parameter</p>
</th>
<th>
<p>Description</p>
</th>
</tr>
</thead> <tbody>
<tr valign="top">
<td>
<p>message</p>
</td>
<td>
<p>The request message payload to be sent. The type of the
parameter can be any one of the following types:</p>
<ul>
<li>
<p>String</p>
</li>
<li>
<p>WSMessage</p>
</li>
</ul>
<p>The message payload is expected to be in valid XML
format as expected by the service. If MTOM/XOP is to be used, you must
use WSMessage to represent the message payload.</p>
</td>
</tr>
</tbody>
</table>
<p>Return Values:</p>
<p>The response will be returned as a WSMessage object instance.</p>
<p>Throws WSFault on error.</p>
<br>

<ul>
<li>
<p><b>WSClient.send( { 'payload' =&gt;
'payload as an XML string' } | WSMessage message)</b></p>
</li>
</ul>
<p>Sends a request message payload in XML. The invocation model
is one way,
hence no response will be expected.</p>
<p>Parameters:</p>
<table style="page-break-inside: avoid;" border="1" cellpadding="4" cellspacing="3" width="100%">
<col><col><thead> <tr valign="top">
<th>
<p>Parameter</p>
</th>
<th>
<p>Description</p>
</th>
</tr>
</thead> <tbody>
<tr valign="top">
<td>
<p>message</p>
</td>
<td>
<p>The request message payload to be sent. The type of the
parameter can be any one of the following types:</p>
<ul>
<li>
<p>String</p>
</li>
<li>
<p>WSMessage</p>
</li>
</ul>
<p>The message payload is expected to be in valid XML
format as expected by the service. If MTOM/XOP is to be used, you must
use WSMessage to represent the message payload.</p>
</td>
</tr>
</tbody>
</table>
<p>Return Values:</p>
<p>void</p>
<p>Throws WSFault on error.</p>
<h2><a name="">Member Variables</a></h2>
None
<h2><a name="">Example</a></h2>
<p><code><span style="color: rgb(177, 177, 0);">my</span> <span style="color: rgb(0, 0, 255);">$reqest_payload</span> = <span style="color: rgb(255, 0, 0);">'<br>
&nbsp; &nbsp; &nbsp; &nbsp; &lt;ns1:echoString xmlns:ns1="http://perl.wsf.wso2.net/samples"&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;text&gt;Hello World!&lt;/text&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &lt;/ns1:echoString&gt;<br>
'</span>;<br>
<br>
<span style="color: rgb(177, 177, 0);">my</span> <span style="color: rgb(0, 0, 255);">$client</span> = <span style="color: rgb(0, 0, 0); font-weight: bold;">new</span> WSO2::<span style="color: rgb(0, 102, 0);">WSF</span>::<span style="color: rgb(0, 102, 0);">WSClient</span><span style="color: rgb(102, 204, 102);">(</span> <span style="color: rgb(102, 204, 102);">{</span> <span style="color: rgb(255, 0, 0);">'to'</span> =<span style="color: rgb(102, 204, 102);">&gt;</span> <span style="color: rgb(255, 0, 0);">'http://localhost/hello_service/greet'</span> <span style="color: rgb(102, 204, 102);">}</span> <span style="color: rgb(102, 204, 102);">)</span>;<br>
<br>
<span style="color: rgb(177, 177, 0);">my</span> <span style="color: rgb(0, 0, 255);">$request</span> = <span style="color: rgb(0, 0, 255);">$client</span>-<span style="color: rgb(102, 204, 102);">&gt;</span><span style="color: rgb(0, 102, 0);">request</span><span style="color: rgb(102, 204, 102);">(</span> <span style="color: rgb(102, 204, 102);">{</span> <span style="color: rgb(255, 0, 0);">'payload'</span> =<span style="color: rgb(102, 204, 102);">&gt;</span> <span style="color: rgb(0, 0, 255);">$request_payload</span> <span style="color: rgb(102, 204, 102);">}</span> <span style="color: rgb(102, 204, 102);">)</span>;<br>
<br>
<span style="color: rgb(0, 0, 102);">print</span> <span style="color: rgb(0, 0, 255);">$request</span>-<span style="color: rgb(102, 204, 102);">&gt;</span><span style="color: rgb(102, 204, 102);">{</span>str<span style="color: rgb(102, 204, 102);">}</span>;</code>
</p>
<br><h2><a name="">WSMessage</a></h2>
The WSMessage class represents a message passed between a client and a
service.
This class encapsulates the XML payload, the
WS-Addressing
action information related to the message, the MTOM attachment data,
and other
properties related to a message. 
<h2><a name="">Constructor</a></h2>

<ul>
<li><b>WSMessage( { 'payload' =&gt; 'payload as an XML string', [&nbsp;properties ] } )</b></li>
</ul>
<p>Constructs a new WSMessage object.</p>
<p>Parameters:</p>
<table style="page-break-inside: avoid;" border="1" cellpadding="4" cellspacing="3" width="100%">
<col><col><thead> <tr valign="top">
<th>
<p>Parameter</p>
</th>
<th>
<p>Default Value</p>
</th>
<th>
<p>Description</p>
</th>
</tr>
</thead> <tbody>
<tr valign="top">
<td>
<p>payload</p>
</td>
<td>
<p>None</p>
</td>
<td>
<p>A string representing the payload being sent or being
received. The payload is expected to be in valid XML format as expected
by the service.</p>
</td>
</tr>

<tr valign="top">
<td>
<p>properties</p>
</td>
<td>
<p></p>
</td>
<td>
<p align="left">A hash of properties.</p>
<p align="left">The following table shows the
possible message level properties and related details.</p>
</td>
</tr>
</tbody>
</table>
<table style="page-break-inside: avoid;" border="1" cellpadding="4" cellspacing="3" width="100%">
<!--<col><col><col><col><col><col><thead>
<tr valign="top">
<th><p>Parameter</p>
</th>
<th colspan="4"><p>Description</p>
</th>
</tr>
</thead>-->
<tbody>
<!--<tr valign="top">
<td><p>payload</p>
</td>
<td colspan="4"> The
type of the parameter can be any one of the following types:</p>
<ul>
<li><p>string</p>
</li>
<li><p>domDocument</p>
</li>
</ul>
<p></p>
</td>
</tr>
<tr valign="top">
<td><p>properties</p>
</td>
<td colspan="4"><p align="left">An array of properties.</p>
<p align="left">The following table shows the possible message level
properties and related details.</p>
</td>
</tr>-->
<tr valign="top">
<th style="width: 96px;">
<p>Option</p>
</th>
<th>
<p>Data Type</p>
</th>
<th>
<p>Value Domain</p>
</th>
<th>
<p>Default Value</p>
</th>
<th>
<p>Description</p>
</th>
</tr>
<tr>
<td colspan="5" valign="top">
<p>General Properties:</p>
</td>
</tr>
<tr valign="top">
<td style="width: 96px;">
<p>"to"</p>
</td>
<td>
<p>scalar</p>
</td>
<td>
<p>A URI</p>
</td>
<td>
<p>None</p>
</td>
<td>
<p>A URI representing the endpoint URI of the service to be
consumed. This must be present on the server side. In case
WS-Addressing is in use, this will be used as the WSA "to" header</p>
</td>
</tr>
<tr>
<td colspan="5" valign="top">
<p>WS-Addressing Related Properties:</p>
</td>
</tr>
<tr valign="top">
<td style="width: 96px;">
<p>"action"</p>
</td>
<td>
<p>scalar</p>
</td>
<td>
<p>A URI</p>
</td>
<td>
<p>None</p>
</td>
<td>
<p>xs:anyURI <br clear="all">
The WS-A action to use when constructing the WS-A headers. A URI
representing the WSA action that helps uniquely identify the operation
to be invoked. This is also used as the SOAP Action regardless of
whether the useWSA option is specified or not.</p>
</td>
</tr>
<tr valign="top">
<td style="width: 96px;">
<p>"from"</p>
</td>
<td>
<p>scalar</p>
</td>
<td>
<p>A URI</p>
</td>
<td>
<p>None</p>
</td>
<td>
<p>xs:anyURI</p>
<p>WS-Addressing From. A URI indicating where the response
or request came from.(Note: This doesn't support reference parameters.)
</p>
</td>
</tr>
<tr valign="top">
<td style="width: 96px;">
<p>"replyTo"</p>
</td>
<td>
<p>scalar</p>
</td>
<td>
<p>A URI</p>
</td>
<td>
<p>None</p>
</td>
<td>
<p>xs:anyURI</p>
<p>WS-Addressing ReplyTo. A URI indicating where the
response should be sent to. The default value is the anonymous URI
(depending on the version). (Note: This doesn't support reference
parameters.)</p>
</td>
</tr>
<tr valign="top">
<td style="width: 96px;">
<p>"faultTo"</p>
</td>
<td>
<p>scalar</p>
</td>
<td>
<p>A URI</p>
</td>
<td>
<p>None</p>
</td>
<td>
<p>xs:anyURI</p>
<p>WS-Addressing FaultTo. A URI indicating where the fault
should be sent to in case of an error. (Note: This doesn't support
reference parameters.)</p>
</td>
</tr>
<tr>
<td colspan="5" valign="top">
<p>XOP/MTOM Related Properties:</p>
</td>
</tr>
<tr valign="top">
<td style="width: 96px;">
<p>"default_attachment_content_type"</p>
</td>
<td>
<p>scalar</p>
</td>
<td>
<p>MTOM content type</p>
</td>
<td>
<p>"application/octet-stream"</p>
</td>
<td>
<p style="margin-bottom: 0in;">Specify a default
MTOM content type to be used with MTOM attachments. You can also
specify xmlmime:contentType on the xop:Include element, which will
override this setting.</p>
</td>
</tr>
</tbody>
</table>

<br>

<h2><a name="">WSFault</a></h2>

<h2><a name="">Constructor</a></h2>

<ul>
<li>
<p><b>WSFault(String code, String reason, String
role, String detail, String xml)</b></p>
</li>
</ul>
<p>Constructs a new WSFault object.</p>
<p>Parameters:</p>
<table style="page-break-inside: avoid;" border="1" cellpadding="4" cellspacing="3" width="100%">
<col><col><col><col><col><col><thead>
</thead> <tbody>
<tr valign="top">
<th>
<p>Parameter</p>
</th>
<!--<th><p>Data Type</p>
</th>
<th><p>Value Domain</p>
</th>-->
<th>
<p>Default Value</p>
</th>
<th>
<p>Description</p>
</th>
</tr>
<tr valign="top">
<td>
<p>code</p>
</td>
<!--<td><p>string</p>
</td>
<td><p>An error code string</p>
</td>-->
<td>
<p>None</p>
</td>
<td>
<p>SOAP fault code. SOAP fault codes are intended to
provide a means by which faults are classified.<br>
Please see <a href="http://www.w3.org/TR/soap12-part1/#faultcodes">SOAP
1.2 spec</a> for more information</p>
</td>
</tr>
<tr valign="top">
<td>
<p>reason</p>
</td>
<!--<td><p>string</p>
</td>
<td><p>Reason string</p>
</td>-->
<td>
<p>None</p>
</td>
<td>
<p>SOAP fault reason. Provides a human readable explanation
of the fault.</p>
</td>
</tr>
<tr valign="top">
<td>
<p>role</p>
</td>
<!--<td><p>string</p>
</td>
<td><p>Role string</p>
</td>-->
<td>
<p>""</p>
</td>
<td>
<p>SOAP fault role. Identifies the role in which the SOAP
processing node was operating at the time the fault occurred.</p>
</td>
</tr>
<tr valign="top">
<td>
<p>detail</p>
</td>
<!--<td><p>string</p>
</td>
<td><p>Detail string</p>
</td>-->
<td>
<p>""</p>
</td>
<td>
<p>SOAP Fault detail. Contains application specific error
information.</p>
</td>
</tr>
<tr valign="top">
<td>
<p>xml</p>
</td>
<!--<td><p>string</p>
</td>
<td><p>Detail string</p>
</td>-->
<td>
<p>""</p>
</td>
<td>
<p>SOAP fault as an XML string.</p>
</td>
</tr>
</tbody>
</table>

<!--<h3><b>Methods</b></h3>
<a id="A1"></a>
<ul>
<li><p><b>WSFault-&gt;__toString()</b></p>
<p>Returns the fault information as a string</p>
</li>
</ul>
<br>-->
<h2><a name="">Members</a></h2><ul>
 <li>
<p><b>code</b></p>
</li>
</ul>
<p>Returns SOAP fault code as a string. SOAP fault codes are intended to
provide a means by which
faults are classified.</p>
<ul>
 <li>
<p><b>reason</b></p>
</li>
</ul>
<p>Returns SOAP fault reason as a string. Provides a human readable
explanation of the fault.</p>
<ul>
 <li>
<p><b>role</b></p>
</li>
</ul>
<p>Returns SOAP fault role as a string. Identifies the role in which the SOAP
processing node was
operating at the time the fault occurred.</p>
<ul>
 <li><b>detail</b></li>
</ul>
<p>Returns SOAP fault detail as a string. Contains application specific error
information.</p>
<ul>
 <li><b>xml</b></li>
</ul>
<p>Returns the SOAP fault as an XML string.</p>

<!--<h2><b>Predefined Functions</b></h2>
<ul>
<li><h4><a id="ws_request"></a><b>WSMessage ws_request (string payload |
domDocument payload | WSMessage payload <br>
[, array options])</b></h4>
</li>
</ul>
<p>Sends a request, invoking a service and receives the response. Adheres to the
Out-In message exchange pattern.</p>
<p>Parameters:</p>
<table cellspacing="3" style="page-break-inside: avoid" cellpadding="4"
border="1">
<col><col><thead>
<tr valign="top">
<th><p>Parameter</p>
</th>
<th><p>Description</p>
</th>
</tr>
</thead>
<tbody>
<tr valign="top">
<td><p>payload</p>
</td>
<td><p>Request payload to be sent. The type of the parameter can be any
one of the following types:</p>
<ul>
<li><p>string</p>
</li>
<li><p>domDocument</p>
</li>
<li><p>WSMessage</p>
</li>
</ul>
<p>The payload is expected to be in valid XML format as expected by
the service. If MTOM/XOP is to be used, you must use WSMessage to
represent the payload.</p>
</td>
</tr>
<tr valign="top">
<td><p>options</p>
</td>
<td colspan="1"><p align="left">An associative array of options. Both
message specific options, defined for WSMessage as well as client
specific options defined for WSClient can be included in the options
array. Please refer to the WSClient() constructor method for more
information on the available options. <var></var></p>
</td>
</tr>
</tbody>
</table>
<p><br>
<br>
</p>
<p>Return Values:</p>
<p>WSMessage object instance representing a response.</p>
<p>Throws WSFault on error.</p>
<br>
<p>Example</p>
<pre><span style="color: rgb(0, 0, 255);">$reqPayloadString</span> = &lt;&lt;&lt;XML
&lt;ns1:echoString xmlns:ns1=<span style="color: rgb(255, 0, 0);">"http://php.wsf.wso2.net/samples"</span>&gt;
&lt;text&gt;Hello World!&lt;/text&gt;
&lt;/ns1:echoString&gt;
XML;
<span style="color: rgb(0, 0, 255);">$resMessage</span> = ws_request<span style="color: rgb(102, 204, 102);">(</span><span style="color: rgb(0, 0, 255);">$reqPayloadString</span>, <a href="http://www.php.net/array"><span style="color: rgb(0, 0, 102);">array</span></a><span style="color: rgb(102, 204, 102);">(</span><span style="color: rgb(255, 0, 0);">"to"</span>=&gt;<span style="color: rgb(255, 0, 0);">"http://localhost/echo_service.php"</span><span style="color: rgb(102, 204, 102);">)</span><span style="color: rgb(102, 204, 102);">)</span>;
<a href="http://www.php.net/printf"><span style="color: rgb(0, 0, 102);">printf</span></a><span style="color: rgb(102, 204, 102);">(</span><span style="color: rgb(255, 0, 0);">"Response = %s &lt;br&gt;"</span>, <a href="http://www.php.net/htmlspecialchars"><span style="color: rgb(0, 0, 102);">htmlspecialchars</span></a><span style="color: rgb(102, 204, 102);">(</span><span style="color: rgb(0, 0, 255);">$resMessage</span>-&gt;<span style="color: rgb(0, 102, 0);">str</span><span style="color: rgb(102, 204, 102);">)</span><span style="color: rgb(102, 204, 102);">)</span>;</pre>
<br>
<ul>
<li><h4><a id="ws_send"></a><b>void ws_send (string payload | domDocument
payload | WSMessage payload <br>
[, array options])</b></h4>
</li>
</ul>
<p>Sends a request, invoking a service. Adheres to the Out-Only message exchange
pattern, hence expects no response. However, throws an WSFault instance in
case of errors.</p>
<p>Parameters:</p>
<table cellspacing="3" style="page-break-inside: avoid" cellpadding="4"
border="1">
<col><col><thead>
<tr valign="top">
<th><p>Parameter</p>
</th>
<th><p>Description</p>
</th>
</tr>
</thead>
<tbody>
<tr valign="top">
<td><p>payload</p>
</td>
<td><p>Request payload to be sent. The type of the parameter can be any
one of the following types:</p>
<ul>
<li><p>string</p>
</li>
<li><p>domDocument</p>
</li>
<li><p>WSMessage</p>
</li>
</ul>
<p>The payload is expected to be in valid XML format as expected by
the service. If MTOM/XOP is to be used, one must use WSMessage to
represent the payload.</p>
</td>
</tr>
<tr valign="top">
<td><p>options</p>
</td>
<td colspan="1"><p align="left">An associative array of options. Both
message specific options, defined for WSMessage as well as client
specific options defined for WSClient can be included in the options
array. Please refer to the WSClient() constructor method for more
information on available options. <var></var></p>
</td>
</tr>
</tbody>
</table>
<p><br>
<br>
</p>
<p>Return Values:</p>
<p>void</p>
<p>Throws WSFault on error.</p>
<br>
<p>Example</p>
<pre><span style="color: rgb(0, 0, 255);">$reqPayloadString</span> = &lt;&lt;&lt;XML
&lt;ns1:notifyString xmlns:ns1=<span style="color: rgb(255, 0, 0);">"http://php.wsf.wso2.net/samples"</span>&gt;
&lt;text&gt;Hello World!&lt;/text&gt;
&lt;/ns1:notifyString&gt;
XML;
 
ws_send<span style="color: rgb(102, 204, 102);">(</span><span style="color: rgb(0, 0, 255);">$reqPayloadString</span>,
<a href="http://www.php.net/array"><span style="color: rgb(0, 0, 102);">array</span></a><span style="color: rgb(102, 204, 102);">(</span><span style="color: rgb(255, 0, 0);">"to"</span>=&gt;<span style="color: rgb(255, 0, 0);">"http://localhost/reply_notify_service.php"</span><span style="color: rgb(102, 204, 102);">)</span><span style="color: rgb(102, 204, 102);">)</span>;</pre>
<br>
<ul>
<li><h4><a id="ws_reply"></a><b>void ws_reply (array options)</b></h4>
</li>
</ul>
<p>Receives a request, processes the request and sends the resulting response. By
default, this method adheres to the In-Out message exchange pattern, however it is
also possible to have the In-Only message exchange pattern, depending on the
nature of the operation being invoked.</p>
<p>Parameters:</p>
<table cellspacing="3" style="page-break-inside: avoid" cellpadding="4"
border="1">
<col><col><col><col><col><col><thead>
<tr valign="top">
<th><p>Parameter</p>
</th>
<th colspan="1"><p>Description</p>
</th>
</tr>
</thead>
<tbody>
<tr valign="top">
<td><p>options</p>
</td>
<td colspan="1"><p align="left" style="font-weight: medium">An
associative array of options. Both message specific options, defined
for WSMessage as well as service specific options defined for
WSService can be included in the options array here. Please refer to the
WSService() constructor method for more information on the available
options.</p>
</td>
</tr>
</tbody>
</table>
<p>Return Values:</p>
<p>void</p>
<p>Throws WSFault on error.</p>
<br>
<p>Example</p>
<pre><span style="color: rgb(0, 0, 0); font-weight: bold;">function</span> echoFunction<span style="color: rgb(102, 204, 102);">(</span><span style="color: rgb(0, 0, 255);">$inMessage</span><span style="color: rgb(102, 204, 102);">)</span> <span style="color: rgb(102, 204, 102);">{</span>
<span style="color: rgb(0, 0, 255);">$returnMessage</span> = <span style="color: rgb(0, 0, 0); font-weight: bold;">new</span> WSMessage<span style="color: rgb(102, 204, 102);">(</span><span style="color: rgb(0, 0, 255);">$inMessage</span>-&gt;<span style="color: rgb(0, 102, 0);">str</span><span style="color: rgb(102, 204, 102);">)</span>;
<span style="color: rgb(177, 177, 0);">return</span> <span style="color: rgb(0, 0, 255);">$returnMessage</span>;
<span style="color: rgb(102, 204, 102);">}</span>
ws_reply<span style="color: rgb(102, 204, 102);">(</span><a href="http://www.php.net/array"><span style="color: rgb(0, 0, 102);">array</span></a><span style="color: rgb(102, 204, 102);">(</span><span style="color: rgb(255, 0, 0);">"operations"</span> =&gt; <a href="http://www.php.net/array"><span style="color: rgb(0, 0, 102);">array</span></a><span style="color: rgb(102, 204, 102);">(</span><span style="color: rgb(255, 0, 0);">"echoString"</span> =&gt; <span style="color: rgb(255, 0, 0);">"echoFunction"</span><span style="color: rgb(102, 204, 102);">)</span><span style="color: rgb(102, 204, 102);">)</span><span style="color: rgb(102, 204, 102);">)</span>;</pre>
<p><br>
</p>-->
</body></html>